<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>プロフィールブック</title>
    <link rel="stylesheet" href="viewer.css">
    <script src="pdf.js"></script>
    <script src="viewer.js"></script>
  </head>
  <body>
    <div id="pdfViewer" class="pdfViewer"></div>
    <script>
      const DEFAULT_URL = 'pdf/profile.pdf'; // ここを自分のPDFパスに変更
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdf.worker.js';
      const loadingTask = pdfjsLib.getDocument(DEFAULT_URL);
      loadingTask.promise.then(pdf => {
        console.log('PDF loaded');
        // 最初のページだけ表示
        pdf.getPage(1).then(page => {
          const scale = 1.5;
          const viewport = page.getViewport({scale: scale});
          const canvas = document.createElement('canvas');
          const context = canvas.getContext('2d');
          canvas.height = viewport.height;
          canvas.width = viewport.width;
          document.getElementById('pdfViewer').appendChild(canvas);
          page.render({canvasContext: context, viewport: viewport});
        });
      });
    </script>
  </body>
</html>
